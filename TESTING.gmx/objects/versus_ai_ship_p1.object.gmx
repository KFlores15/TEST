<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>versusai</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
//Booleans
moving = true;
shooting = false;
chasing = true;
updown = false;
leftright = false;



//Size of sprite
//DO NOT CHANGE SCALE OF OBJECT IN ROOM
sprSize = 16;

//Timer for changing direction?
timer1 = 30;

//Timer for shooting interval?
timer2 = 20;

//What player is NPC following?
//LIMITED TO PLAYER1 AND PLAYER2
Player = Player1;

//Speed of NPC?
spd = 2;

//Type of bullet NPC is shooting?
bullType = obj_versus_enemyai_bullet;

//Type of obstacles to avoid?
terrain = Iron_Wall;

//Other variables
randomDir = sign(random_range(-2,1))*spd;
timer3 = 40;

pace = timer1;
shootTimer = timer2;
changeDir = timer3;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///A.I.
//Follow Player
if instance_exists(Player){
  if pace = timer1{
    moving = true;
  }else if pace = 0{
    moving = false;
  }
  if chasing{
    if moving{
      if x = Player.x{
        y += sign(Player.y - y) * spd;
        x += 0;
      }else{
        y += 0;
        x += sign(Player.x - x) * spd;
      }
      pace --;
    }else{
      if y = Player.y{
        y += 0;
        x += sign(Player.x - x) * spd;
      }else{
        y += sign(Player.y - y) * spd;
        x += 0;
      }
      pace ++;
    }
  }
}

//Shoot at Player
if shootTimer = timer2{
  shooting = true;
}
 
if shooting{ 
  bull = instance_create(x,y,obj_versus_enemyai_bullet);
  bull.direction = image_angle + 90;
  bull.image_angle = image_angle;
  bull.speed = 5;
  shooting = false;
  shootTimer = 0;
}

shootTimer ++;



//Rotate to Player
if moving{
  if sign(Player.x - x) &lt; 0{
    image_angle = 90;
  }
  if sign(Player.x - x) &gt; 0{
    image_angle = 270;
  }
  if sign(Player.x - x) = 0{
    image_angle = point_direction(x, y, Player.x, Player.y) - 90;
  }
}else{
  if sign(Player.y - y) &lt; 0{
    image_angle = 0;
  }
  if sign(Player.y - y) &gt; 0{
    image_angle = 180;
  }
  if sign(Player.y - y) = 0{
    image_angle = point_direction(x, y, Player.x, Player.y) - 90;
  }
}

//Avoid collision with terrain
if place_meeting(x - sprSize, y, terrain){ //left
  chasing = false;
  updown = true;
  leftright = false;
}else if place_meeting(x + sprSize, y, terrain){ //right
  chasing = false;
  updown = true;
  leftright = false;
}else if place_meeting(x, y + sprSize, terrain){ //down
  chasing = false;
  updown = false;
  leftright = true;
}else if place_meeting(x, y - sprSize, terrain){ //up
  chasing = false;
  updown = false;
  leftright = true;
}

if updown{
  y += randomDir;
  x += 0;
  changeDir --;
}else if leftright{
  y += 0;
  x += randomDir;
  changeDir --;
}

if changeDir = 0{
  chasing = true;
  updown = false;
  leftright = false;
  changeDir = timer3;
}

//Prevents from leaving room
x = clamp(x, 32, room_width-32);
y = clamp(y, 32, room_height-32);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="Player1">
      <action>
        <libid>1</libid>
        <id>115</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_bounce</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="Player2">
      <action>
        <libid>1</libid>
        <id>115</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_bounce</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
